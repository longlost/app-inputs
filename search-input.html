
<style include="app-shared-styles">

  :host {
    display:         flex;
    align-items:     center;
    justify-content: center;
    position:        relative;
    height:          64px;
    padding:         0px 16px;
    
    --list-background-color:   var(--app-body-color);
    --search-button-color:     var(--app-primary-color);
    --clear-button-color:      var(--app-primary-color);
    --input-background-color:  var(--app-background-color);
    --input-border-radius:     8px;
    --input-placeholder-color: var(--app-disabled-text);
    --input-width:             100%;
    --input-text-overflow:     ellipsis;
  }
 
  #input {
    display:          flex;
    align-items:      center;
    height:           40px;
    width:            var(--input-width);
    border-radius:    var(--input-border-radius);
    background-color: var(--input-background-color);
    
    --paper-input-container: {
      /*
        Cannot use flex here because then the 
        underlying input will not be full width
      */
      position: relative;
      bottom:   10px;
    };

    --paper-input-text-overflow: var(--input-text-overflow);

    --paper-input-container-input-color: currentColor;

    --paper-input-container-color: var(--input-placeholder-color);

    --paper-input-container-underline: {
      display: none;
    };

    --paper-input-container-underline-focus: {
      display: none;
    };

    --paper-input-container-underline-disabled: {
      display: none;
    };
  }

  #search-btn {
    color: var(--search-button-color);
  }

  #search-btn[disabled] {
    color: var(--app-disabled-text);
  }

  #clear-btn {
    color: var(--clear-button-color);
  }

  #clear-btn[disabled] {
    opacity: 0;
  }

  #list {
    --suggestion-list-background-color: var(--list-background-color);
  }

</style>


<iron-a11y-keys id="a11y" 
                target="[[_a11yTarget]]" 
                keys="enter"
                on-keys-pressed="__a11yOnEnter">
</iron-a11y-keys>

<custom-search-paper-input id="input"
                           class="shared-paper-input"
                           aria-describedby="a11y"
                           autocomplete="[[autocomplete]]"
                           autocorrect="[[autocorrect]]"
                           autocapitalize="[[autocapitalize]]"
                           minlength="[[minlength]]"
                           placeholder="[[placeholder]]"
                           tabindex="0"
                           type="search"
                           value="[[value]]"
                           on-focused-changed="__focusedChanged"
                           on-value-changed="__valueChanged">

  <paper-icon-button id="search-btn"
                     aria-label="Search"
                     disabled="[[_searchBtnDisabled]]"
                     icon="app-icons:search"
                     slot="prefix"
                     on-click="__searchBtnClicked">
  </paper-icon-button>

  <paper-icon-button id="clear-btn"
                     aria-label="Clear search"
                     disabled="[[_clearBtnDisabled]]"
                     icon="input-icons:cancel"
                     slot="suffix" 
                     on-click="__clearBtnClicked">
  </paper-icon-button>

</custom-search-paper-input>


<suggestion-list id="list" 
                 suggestions="[[suggestions]]">                       
</suggestion-list>
